+SETUPFILE: ~/Seafile/org2/aw-org-html-themes/setup/theme-readtheorg-local.setup
#++SETUPFILE: https://github.com/andreaswittmann/aw-org-html-themes/setup/theme-readtheorg-local.setup
#+OPTIONS: toc:nil
#+STARTUP: overview
#+Title: Project Bot
#+Author: Andreas wittmann
#+Options: c:t
#+TODO: TODO(t!/!) MAYB(b!/!) WAIT(w!/!) OPEN(o!/!) |  DONE(d!/) CANC(c!/!)
#+TODO:  | PROJ(p!/!) NOTE(n!/)  MEET(m!/!)
#+Include: "~/Seafile/org2/latex_setup.org"

- *PDF Version:* [[file:setup.pdf][setup.pdf]]
- *HTML Version:* [[file:setup.html][setup.html]]

#+TOC: headlines 4

* Project Bot

** Introduction

Project Bot is an advanced application designed to streamline the process of generating professional job applications in German. Leveraging state-of-the-art AI technologies, it automates the creation of tailored application documents, making it easier for users to apply for jobs with confidence.

** Migration
This document uses the [[life-scripting][https://github.com/andreaswittmann/live-scripting]] approach to migrate the project from the old project path to the new location.

*** Fresh Setup Steps from Remote Repository while migrating productive files and settings.


#+begin_src bash
# Listing: setup project-bot

# Complete setup in one go
cd /Users/aupeksha/LocalProjects/ai-bootcamp
git clone http://100.71.227.145:3300/anwi/project-bot.git project-bot
cd project-bot
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt
cd frontend && npm install && npm run build && cd ..
cp ../bewerbungs-bot/config.yaml ./
cp -r ../bewerbungs-bot/data ./ 2>/dev/null || mkdir data
cp -r ../bewerbungs-bot/projects ./ 2>/dev/null || mkdir projects
ls -l projects
ls -l data
mkdir logs

## Start the server 
ls -l server-control.sh 
./server_control.sh status
./server_control.sh start-all




#+end_src

*Result:* the project-bot directory is created with all files and folders. The virtual environment is set up and dependencies are installed. The servers are started.

** Docker Setup
[2025-09-12 Fri] This section demonstrates to setup the project on my MacBook Pro home server with Docker.
I migrate the settings and projects from an previous docker setup.

#+begin_src bash
# Listing: setup project-bot with docker

# Login to home server
ssh asamadhi
bash


# Create project directory
cd ~/LocalProjects/
ls -ltr

# Clone the repository
git clone https://github.com/andreaswittmann/project-bot.git
cd project-bot
export PROJECT_DIR=$(pwd)
echo $PROJECT_DIR
git pull

# Migrate Settings and Projects from old docker setup
mkdir -p  $PROJECT_DIR/docker-volumes
cd $PROJECT_DIR/docker-volumes
cp -r ~/LocalProjects/ai-bootcamp/bewerbungs-bot/docker-volumes/data/ . 
cp -r ~/LocalProjects/ai-bootcamp/bewerbungs-bot/docker-volumes/config.yaml .
cp -r ~/LocalProjects/ai-bootcamp/bewerbungs-bot/docker-volumes/projects/ .

exit

# Copy conifguration from ohter machine
scp ~/LocalProjects/ai-bootcamp/project-bot/data/CV_Andreas.Wittmann_GmbH_DE_2025_05.md asamadhi:~/LocalProjects/ai-bootcamp/project-bot/docker-volumes/data/cv.md
scp ~/LocalProjects/ai-bootcamp/.env asamadhi:~/LocalProjects/ai-bootcamp/project-bot/docker/.env


# Continue on home server
ssh asamadhi
bash
cd ~/LocalProjects/project-bot
export PROJECT_DIR=$(pwd)

## Build the docker images
cd ${PROJECT_DIR}/docker
docker compose build --no-cache

# Starting application container with organized volumes...
docker compose down
docker compose up -d

# Verify container status and volumes

docker compose ps
docker compose logs --tail=10

#+end_src

** Update Docker Installation
[2025-09-15 Mon 16:19] This section demonstrates how to update the project-bot installation on my MacBook Pro home server with Docker.

#+BEGIN_src bash
ssh asamadhi
whoami
bash


# Listing: update project-bot with docker on home server
cd ~/LocalProjects/
ls -ltr
cd project-bot

export PROJECT_DIR=$(pwd)
echo $PROJECT_DIR

# Pull latest changes from repository
git pull


# Set environment variable for frontend. 
export VITE_RELEASE_TAG=$(git describe --tags --abbrev=0)
cat > ./frontend/.env <<EOL
VITE_API_BASE_URL=http://100.71.227.145:8003
VITE_RELEASE_TAG=$VITE_RELEASE_TAG
EOL
cat ./frontend/.env

# Stop the running containers
cd ${PROJECT_DIR}/docker
docker compose down
# Rebuild the docker images
docker compose build --no-cache
rm build.log
docker compose build --no-cache 2>&1 | tee build.log  # for debugging
docker compose build  2>&1 | tee build.log  # for debugging

# Start the containers again

docker compose up -d

exit
exit

#+end_src

*Result:* The project-bot installation is updated and shows the new release tag.


